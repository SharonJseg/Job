<app-layout>
  <ng-container *ngIf="job$ | async as job">
    <section class="job">
      <header class="job__header">
        <div
          class="job__img-container"
          [ngStyle]="{ 'background-color': job.logoBackground }"
        >
          <img src="{{ job.logo }}" alt="{{ job.company }}" class="job__img" />
        </div>
        <div class="job__company-container">
          <h2 class="job__company">{{ job.company }}</h2>
          <a href="{{ job.website }}" target="_blank" class="job__website"
            >{{ job.company }}.com</a
          >
        </div>
        <!--        <button class="job__button job__website-button">Company Site</button>-->
        <div class="button-container">
        <button *ngIf="job.id > 1"  (click)="lastJob(job.id)" class="round-button round-button__back"></button>
        <button (click)="nextJob(job.id)" class="round-button round-button__next"></button>
        </div>
      </header>

      <div class="job__position-container container">
        <div class="job__position">
          <p class="job__postedAt">{{ job.postedAt }}</p>
          <h2 class="job__position-title">{{ job.position }}</h2>
          <p class="job__location">{{ job.location }}</p>
          <p class="job__text">{{ job.description }}</p>
        </div>
        <button class="job__button job__apply-button">Apply</button>
      </div>

       <job-details-box
      [title]="'Requirements'"
      [content]="job.requirements.content"
      [items]="job.requirements.items"
      ></job-details-box>

      <job-details-box
      [title]="'Role'"
      [content]="job.role.content"
      [items]="job.role.items"
      ></job-details-box>

    </section>
  </ng-container>
</app-layout>
